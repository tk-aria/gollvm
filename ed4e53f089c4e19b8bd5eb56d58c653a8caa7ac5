{
  "comments": [
    {
      "key": {
        "uuid": "56f9ae58_83966a12",
        "filename": "bridge/go-llvm-materialize.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1484,
      "author": {
        "id": 14020
      },
      "writtenOn": "2019-07-16T14:29:31Z",
      "side": 1,
      "message": "For an optimization like this, I\u0027m always a big fan of having an internal option that can be used to turn it off, just in case it is somehow triggering problematic behavior...",
      "revId": "ed4e53f089c4e19b8bd5eb56d58c653a8caa7ac5",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8e05f196_f12f6fde",
        "filename": "bridge/go-llvm-materialize.cpp",
        "patchSetId": 2
      },
      "lineNbr": 1484,
      "author": {
        "id": 13315
      },
      "writtenOn": "2019-07-17T01:08:04Z",
      "side": 1,
      "message": "Done. Added a hidden option.",
      "parentUuid": "56f9ae58_83966a12",
      "revId": "ed4e53f089c4e19b8bd5eb56d58c653a8caa7ac5",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e36435fc_5b6ac6dc",
        "filename": "passes/GoSafeGetg.cpp",
        "patchSetId": 2
      },
      "lineNbr": 65,
      "author": {
        "id": 14020
      },
      "writtenOn": "2019-07-16T14:29:31Z",
      "side": 1,
      "message": "Putting on my paranoid hat, I\u0027m imagining a scenario where we take g@TLS and store it away somewhere to location X, then later on load up X and use that (instead of having a direct reference to g). Is this a scenario we need to worry about?",
      "revId": "ed4e53f089c4e19b8bd5eb56d58c653a8caa7ac5",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "290a6d87_f1581d87",
        "filename": "passes/GoSafeGetg.cpp",
        "patchSetId": 2
      },
      "lineNbr": 65,
      "author": {
        "id": 13315
      },
      "writtenOn": "2019-07-17T01:08:04Z",
      "side": 1,
      "message": "Good point. The Go code doesn\u0027t take the address of g, so I don\u0027t think it will store the address of g somewhere. I added an assert.",
      "parentUuid": "e36435fc_5b6ac6dc",
      "revId": "ed4e53f089c4e19b8bd5eb56d58c653a8caa7ac5",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6054dbf3_0bae6628",
        "filename": "passes/GoSafeGetg.cpp",
        "patchSetId": 2
      },
      "lineNbr": 71,
      "author": {
        "id": 14020
      },
      "writtenOn": "2019-07-16T14:29:31Z",
      "side": 1,
      "message": "LLVM also has GlobalIsel in addition to SelectionDag -- do we need to be concerned about that? Or are TLS expansions one of those things not handled in GlobalIsel yet?",
      "revId": "ed4e53f089c4e19b8bd5eb56d58c653a8caa7ac5",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "08607c52_5983ca05",
        "filename": "passes/GoSafeGetg.cpp",
        "patchSetId": 2
      },
      "lineNbr": 71,
      "author": {
        "id": 13315
      },
      "writtenOn": "2019-07-17T01:08:04Z",
      "side": 1,
      "message": "Good point. I haven\u0027t looked at GlobalIsel. Will do.",
      "parentUuid": "6054dbf3_0bae6628",
      "revId": "ed4e53f089c4e19b8bd5eb56d58c653a8caa7ac5",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3781025f_4063a58e",
        "filename": "passes/GoSafeGetg.cpp",
        "patchSetId": 2
      },
      "lineNbr": 71,
      "author": {
        "id": 13315
      },
      "writtenOn": "2019-07-17T01:51:02Z",
      "side": 1,
      "message": "It seems that GlobalIsel is not able to compile any Go functions at the moment. And it doesn\u0027t seem to handle thread-local variables.",
      "parentUuid": "08607c52_5983ca05",
      "revId": "ed4e53f089c4e19b8bd5eb56d58c653a8caa7ac5",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "90e79580_24b07a6d",
        "filename": "passes/GoSafeGetg.cpp",
        "patchSetId": 2
      },
      "lineNbr": 71,
      "author": {
        "id": 14020
      },
      "writtenOn": "2019-07-17T12:53:13Z",
      "side": 1,
      "message": "OK, thanks for checking on that.",
      "parentUuid": "3781025f_4063a58e",
      "revId": "ed4e53f089c4e19b8bd5eb56d58c653a8caa7ac5",
      "serverId": "62eb7196-b449-3ce5-99f1-c037f21e1705",
      "unresolved": false
    }
  ]
}